[
  {
    "id": 1,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "easy",
    "instruction": "Work out the correct penalty for Mike.",
    "question": "Classify Mike's penalty status.",
    "prompt_rules": [
      "Yellow: Return < 75%",
      "Red: Damage >= 5%"
    ],
    "widget_data": {
      "columns": [
        "Borrowed",
        "Returned",
        "Damaged",
        "Penalty"
      ],
      "rows": [
        {
          "id": "mike",
          "label": "Mike",
          "values": [
            "24",
            "10",
            "1"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "yellow",
          "label": "Yellow",
          "color": "amber"
        },
        {
          "id": "red",
          "label": "Red",
          "color": "red"
        },
        {
          "id": "both",
          "label": "Both",
          "color": "green"
        }
      ]
    },
    "correct_answer": {
      "mike": "yellow"
    },
    "explanation": "Returned 10/24 = 41.7% (<75%) so Yellow applies. Damaged 1/24 = 4.2% (<5%) so no Red.",
    "source_id": "lib_mike"
  },
  {
    "id": 2,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Work out the correct penalty for Tim.",
    "question": "Classify Tim's penalty status.",
    "prompt_rules": [
      "Yellow: Return < 75%",
      "Red: Damage >= 5%"
    ],
    "widget_data": {
      "columns": [
        "Borrowed",
        "Returned",
        "Damaged",
        "Penalty"
      ],
      "rows": [
        {
          "id": "tim",
          "label": "Tim",
          "values": [
            "90",
            "44",
            "9"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "yellow",
          "label": "Yellow",
          "color": "amber"
        },
        {
          "id": "red",
          "label": "Red",
          "color": "red"
        },
        {
          "id": "both",
          "label": "Both",
          "color": "green"
        }
      ]
    },
    "correct_answer": {
      "tim": "both"
    },
    "explanation": "Returned 44/90 = 48.9% (<75%) and Damaged 9/90 = 10% (>=5%).",
    "source_id": "lib_tim"
  },
  {
    "id": 3,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "easy",
    "instruction": "Work out the correct penalty for Angela.",
    "question": "Classify Angela's penalty status.",
    "prompt_rules": [
      "Yellow: Return < 75%",
      "Red: Damage >= 5%"
    ],
    "widget_data": {
      "columns": [
        "Borrowed",
        "Returned",
        "Damaged",
        "Penalty"
      ],
      "rows": [
        {
          "id": "angela",
          "label": "Angela",
          "values": [
            "150",
            "60",
            "2"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "yellow",
          "label": "Yellow",
          "color": "amber"
        },
        {
          "id": "red",
          "label": "Red",
          "color": "red"
        },
        {
          "id": "both",
          "label": "Both",
          "color": "green"
        }
      ]
    },
    "correct_answer": {
      "angela": "yellow"
    },
    "explanation": "Returned 60/150 = 40% (<75%) so Yellow only. Damage 2/150 = 1.3% (<5%).",
    "source_id": "lib_angela"
  },
  {
    "id": 4,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "easy",
    "instruction": "Work out the correct penalty for Tina.",
    "question": "Classify Tina's penalty status.",
    "prompt_rules": [
      "Yellow: Return < 75%",
      "Red: Damage >= 5%"
    ],
    "widget_data": {
      "columns": [
        "Borrowed",
        "Returned",
        "Damaged",
        "Penalty"
      ],
      "rows": [
        {
          "id": "tina",
          "label": "Tina",
          "values": [
            "16",
            "15",
            "2"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "yellow",
          "label": "Yellow",
          "color": "amber"
        },
        {
          "id": "red",
          "label": "Red",
          "color": "red"
        },
        {
          "id": "both",
          "label": "Both",
          "color": "green"
        }
      ]
    },
    "correct_answer": {
      "tina": "red"
    },
    "explanation": "Returned 15/16 = 93.8% (no Yellow). Damaged 2/16 = 12.5% (Red).",
    "source_id": "lib_tina"
  },
  {
    "id": 5,
    "subtype": "interactive_numerical",
    "type": "interactive_pie_chart",
    "difficulty": "medium",
    "instruction": "Adjust the pie chart to represent office sizes.",
    "question": "Set each office slice to match the given relationships.",
    "prompt_rules": [
      "Total = 480 employees",
      "Office A = 2 x Office C",
      "Office C = 24 employees",
      "Office D = 12 x Office C",
      "Office B = remainder"
    ],
    "widget_data": {
      "total_value": 480,
      "segments": [
        {
          "id": "off_a",
          "label": "Office A",
          "color": "blue",
          "initial_pct": 25
        },
        {
          "id": "off_b",
          "label": "Office B",
          "color": "green",
          "initial_pct": 25
        },
        {
          "id": "off_c",
          "label": "Office C",
          "color": "red",
          "initial_pct": 25
        },
        {
          "id": "off_d",
          "label": "Office D",
          "color": "orange",
          "initial_pct": 25
        }
      ]
    },
    "correct_answer": {
      "off_c": 5,
      "off_a": 10,
      "off_d": 60,
      "off_b": 25
    },
    "tolerance": {
      "pct": 2
    },
    "explanation": "C=24 (5%), A=48 (10%), D=288 (60%), B=120 (25%).",
    "source_id": "pie_offices"
  },
  {
    "id": 6,
    "subtype": "interactive_numerical",
    "type": "interactive_stacked_bar",
    "difficulty": "medium",
    "instruction": "Arrange the complaints per month.",
    "question": "Adjust Month 2 to satisfy the growth rules.",
    "prompt_rules": [
      "Month 1: 200 total (80 Service / 120 Product)",
      "Month 2: Service +5%, Product +30%"
    ],
    "widget_data": {
      "axis_max": 300,
      "bar_1": {
        "id": "month_1",
        "label": "Month 1",
        "total": 200,
        "split_pct": 40
      },
      "bar_2_initial": {
        "id": "month_2",
        "label": "Month 2",
        "total": 200,
        "split_pct": 50
      },
      "segment_labels": {
        "primary": "Service",
        "secondary": "Product"
      }
    },
    "correct_answer": {
      "total": 240,
      "split_pct": 35
    },
    "tolerance": {
      "total": 5,
      "split_pct": 2
    },
    "explanation": "Service: 80 -> 84. Product: 120 -> 156. Total 240. Service share = 84/240 = 35%.",
    "source_id": "bar_complaints"
  },
  {
    "id": 7,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Determine funding status for Project A.",
    "question": "Classify Project A as Funded, Deferred, or Rejected.",
    "prompt_rules": [
      "Funded: Rev >= 2 x Investment",
      "Deferred: Rev >= Investment",
      "Rejected: Rev < Investment"
    ],
    "widget_data": {
      "columns": [
        "Investment",
        "Rev Y1",
        "Rev Y2",
        "Rev Y3",
        "Rev Y4",
        "Status"
      ],
      "rows": [
        {
          "id": "proj_a",
          "label": "Project A",
          "values": [
            "$8,000",
            "$1,800",
            "$2,000",
            "$4,300",
            "$2,800"
          ]
        }
      ],
      "draggables": [
        {
          "id": "funded",
          "label": "Funded",
          "color": "green"
        },
        {
          "id": "deferred",
          "label": "Deferred",
          "color": "amber"
        },
        {
          "id": "rejected",
          "label": "Rejected",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "proj_a": "deferred"
    },
    "explanation": "Total revenue 10,900 is >=8,000 but <16,000.",
    "source_id": "fund_proj_a"
  },
  {
    "id": 8,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Determine funding status for Project B.",
    "question": "Classify Project B as Funded, Deferred, or Rejected.",
    "prompt_rules": [
      "Funded: Rev >= 2 x Investment",
      "Deferred: Rev >= Investment",
      "Rejected: Rev < Investment"
    ],
    "widget_data": {
      "columns": [
        "Investment",
        "Rev Y1",
        "Rev Y2",
        "Rev Y3",
        "Rev Y4",
        "Status"
      ],
      "rows": [
        {
          "id": "proj_b",
          "label": "Project B",
          "values": [
            "$17,500",
            "$500",
            "$5,000",
            "$10,000",
            "$20,000"
          ]
        }
      ],
      "draggables": [
        {
          "id": "funded",
          "label": "Funded",
          "color": "green"
        },
        {
          "id": "deferred",
          "label": "Deferred",
          "color": "amber"
        },
        {
          "id": "rejected",
          "label": "Rejected",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "proj_b": "funded"
    },
    "explanation": "Total revenue 35,500 >= 35,000 (2 x investment).",
    "source_id": "fund_proj_b"
  },
  {
    "id": 9,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "easy",
    "instruction": "Classify Store A.",
    "question": "Classify the revenue volume for Store A.",
    "prompt_rules": [
      "Revenue = (Price - Discount) x Units x (1 + Fee)",
      "High > 1500, Low < 350"
    ],
    "widget_data": {
      "columns": [
        "Price",
        "Units",
        "Discount",
        "Fee",
        "Volume"
      ],
      "rows": [
        {
          "id": "store_a",
          "label": "Store A",
          "values": [
            "?6.46",
            "60",
            "10% off",
            "-"
          ]
        }
      ],
      "draggables": [
        {
          "id": "high",
          "label": "High",
          "color": "green"
        },
        {
          "id": "medium",
          "label": "Medium",
          "color": "amber"
        },
        {
          "id": "low",
          "label": "Low",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "store_a": "low"
    },
    "explanation": "?6.46 x 0.9 x 60 = ?348.84 (<350).",
    "source_id": "store_a"
  },
  {
    "id": 10,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Classify Store C (Scenario 1).",
    "question": "Classify the revenue volume for Store C scenario 1.",
    "prompt_rules": [
      "Revenue = (Price - Discount) x Units x (1 + Fee)",
      "High > 1500, Low < 350"
    ],
    "widget_data": {
      "columns": [
        "Price",
        "Units",
        "Discount",
        "Fee",
        "Volume"
      ],
      "rows": [
        {
          "id": "store_c1",
          "label": "Store C",
          "values": [
            "?17.25",
            "90",
            "?2 off",
            "6%"
          ]
        }
      ],
      "draggables": [
        {
          "id": "high",
          "label": "High",
          "color": "green"
        },
        {
          "id": "medium",
          "label": "Medium",
          "color": "amber"
        },
        {
          "id": "low",
          "label": "Low",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "store_c1": "medium"
    },
    "explanation": "Base 15.25 x 90 = 1,372.5; with 6% fee => 1,454.85.",
    "source_id": "store_c_1"
  },
  {
    "id": 11,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Classify Store C (Scenario 2).",
    "question": "Classify the revenue volume for Store C scenario 2.",
    "prompt_rules": [
      "Revenue = (Price - Discount) x Units x (1 + Fee)",
      "High > 1500, Low < 350"
    ],
    "widget_data": {
      "columns": [
        "Price",
        "Units",
        "Discount",
        "Fee",
        "Volume"
      ],
      "rows": [
        {
          "id": "store_c2",
          "label": "Store C",
          "values": [
            "?6.89",
            "50",
            "-",
            "6%"
          ]
        }
      ],
      "draggables": [
        {
          "id": "high",
          "label": "High",
          "color": "green"
        },
        {
          "id": "medium",
          "label": "Medium",
          "color": "amber"
        },
        {
          "id": "low",
          "label": "Low",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "store_c2": "medium"
    },
    "explanation": "Base 344.5; with 6% fee => 365.17.",
    "source_id": "store_c_2"
  },
  {
    "id": 12,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Classify Store D.",
    "question": "Classify the revenue volume for Store D.",
    "prompt_rules": [
      "Revenue = (Price - Discount) x Units x (1 + Fee)",
      "High > 1500, Low < 350"
    ],
    "widget_data": {
      "columns": [
        "Price",
        "Units",
        "Discount",
        "Fee",
        "Volume"
      ],
      "rows": [
        {
          "id": "store_d",
          "label": "Store D",
          "values": [
            "?17.97",
            "80",
            "-",
            "8%"
          ]
        }
      ],
      "draggables": [
        {
          "id": "high",
          "label": "High",
          "color": "green"
        },
        {
          "id": "medium",
          "label": "Medium",
          "color": "amber"
        },
        {
          "id": "low",
          "label": "Low",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "store_d": "high"
    },
    "explanation": "Base 1,437.6; with 8% fee => 1,552.6 (>1500).",
    "source_id": "store_d"
  },
  {
    "id": 13,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "hard",
    "instruction": "Commission for Person A.",
    "question": "Determine Person A commission tier.",
    "prompt_rules": [
      "Net Sales = Sales - (Cancel x 5)",
      "Avg = Rev / Net Sales",
      "0-40: None, 41-100: 5%, 101+: 10%"
    ],
    "widget_data": {
      "columns": [
        "Rev",
        "Sales",
        "Cancel/Day",
        "Comm"
      ],
      "rows": [
        {
          "id": "pa",
          "label": "Person A",
          "values": [
            "?390",
            "20",
            "2"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "5%",
          "label": "5%"
        },
        {
          "id": "10%",
          "label": "10%"
        }
      ]
    },
    "correct_answer": {
      "pa": "none"
    },
    "explanation": "Net=10; Avg=39 => None.",
    "source_id": "comm_person_a"
  },
  {
    "id": 14,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "hard",
    "instruction": "Commission for Person B.",
    "question": "Determine Person B commission tier.",
    "prompt_rules": [
      "Net Sales = Sales - (Cancel x 5)",
      "Avg = Rev / Net Sales",
      "0-40: None, 41-100: 5%, 101+: 10%"
    ],
    "widget_data": {
      "columns": [
        "Rev",
        "Sales",
        "Cancel/Day",
        "Comm"
      ],
      "rows": [
        {
          "id": "pb",
          "label": "Person B",
          "values": [
            "?670",
            "15",
            "1"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "5%",
          "label": "5%"
        },
        {
          "id": "10%",
          "label": "10%"
        }
      ]
    },
    "correct_answer": {
      "pb": "5%"
    },
    "explanation": "Net=10; Avg=67 => 5%.",
    "source_id": "comm_person_b"
  },
  {
    "id": 15,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "hard",
    "instruction": "Commission for Person C.",
    "question": "Determine Person C commission tier.",
    "prompt_rules": [
      "Net Sales = Sales - (Cancel x 5)",
      "Avg = Rev / Net Sales",
      "0-40: None, 41-100: 5%, 101+: 10%"
    ],
    "widget_data": {
      "columns": [
        "Rev",
        "Sales",
        "Cancel/Day",
        "Comm"
      ],
      "rows": [
        {
          "id": "pc",
          "label": "Person C",
          "values": [
            "?1,440",
            "31",
            "4"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "5%",
          "label": "5%"
        },
        {
          "id": "10%",
          "label": "10%"
        }
      ]
    },
    "correct_answer": {
      "pc": "10%"
    },
    "explanation": "Net=11; Avg=130.9 => 10%.",
    "source_id": "comm_person_c"
  },
  {
    "id": 16,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "hard",
    "instruction": "Commission for Person D.",
    "question": "Determine Person D commission tier.",
    "prompt_rules": [
      "Net Sales = Sales - (Cancel x 5)",
      "Avg = Rev / Net Sales",
      "0-40: None, 41-100: 5%, 101+: 10%"
    ],
    "widget_data": {
      "columns": [
        "Rev",
        "Sales",
        "Cancel/Day",
        "Comm"
      ],
      "rows": [
        {
          "id": "pd",
          "label": "Person D",
          "values": [
            "?1,120",
            "55",
            "5"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "5%",
          "label": "5%"
        },
        {
          "id": "10%",
          "label": "10%"
        }
      ]
    },
    "correct_answer": {
      "pd": "none"
    },
    "explanation": "Net=30; Avg=37.3 => None.",
    "source_id": "comm_person_d"
  },
  {
    "id": 17,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Eligibility for Person A.",
    "question": "Determine if Person A is eligible.",
    "prompt_rules": [
      "Flag if Late > 1.5% OR Attendance < 93%",
      "Any flag => Not Eligible"
    ],
    "widget_data": {
      "columns": [
        "Attended",
        "Possible",
        "Late",
        "Holiday",
        "Status"
      ],
      "rows": [
        {
          "id": "epa",
          "label": "Person A",
          "values": [
            "205",
            "235",
            "2",
            "20"
          ]
        }
      ],
      "draggables": [
        {
          "id": "eligible",
          "label": "Eligible",
          "color": "green"
        },
        {
          "id": "not_eligible",
          "label": "Not Eligible",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "epa": "eligible"
    },
    "explanation": "Late 0.85% and attendance 95.3% after holiday adjustment.",
    "source_id": "elig_person_a"
  },
  {
    "id": 18,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Eligibility for Person B.",
    "question": "Determine if Person B is eligible.",
    "prompt_rules": [
      "Flag if Late > 1.5% OR Attendance < 93%",
      "Any flag => Not Eligible"
    ],
    "widget_data": {
      "columns": [
        "Attended",
        "Possible",
        "Late",
        "Holiday",
        "Status"
      ],
      "rows": [
        {
          "id": "epb",
          "label": "Person B",
          "values": [
            "109",
            "125",
            "10",
            "15"
          ]
        }
      ],
      "draggables": [
        {
          "id": "eligible",
          "label": "Eligible",
          "color": "green"
        },
        {
          "id": "not_eligible",
          "label": "Not Eligible",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "epb": "not_eligible"
    },
    "explanation": "Late 8% (>1.5%), fails.",
    "source_id": "elig_person_b"
  },
  {
    "id": 19,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Eligibility for Person C.",
    "question": "Determine if Person C is eligible.",
    "prompt_rules": [
      "Flag if Late > 1.5% OR Attendance < 93%",
      "Any flag => Not Eligible"
    ],
    "widget_data": {
      "columns": [
        "Attended",
        "Possible",
        "Late",
        "Holiday",
        "Status"
      ],
      "rows": [
        {
          "id": "epc",
          "label": "Person C",
          "values": [
            "199",
            "227",
            "3",
            "10"
          ]
        }
      ],
      "draggables": [
        {
          "id": "eligible",
          "label": "Eligible",
          "color": "green"
        },
        {
          "id": "not_eligible",
          "label": "Not Eligible",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "epc": "not_eligible"
    },
    "explanation": "Attendance 199/(227-10)=91.7%, fails.",
    "source_id": "elig_person_c"
  },
  {
    "id": 20,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "easy",
    "instruction": "Eligibility for Person D.",
    "question": "Determine if Person D is eligible.",
    "prompt_rules": [
      "Flag if Late > 1.5% OR Attendance < 93%",
      "Any flag => Not Eligible"
    ],
    "widget_data": {
      "columns": [
        "Attended",
        "Possible",
        "Late",
        "Holiday",
        "Status"
      ],
      "rows": [
        {
          "id": "epd",
          "label": "Person D",
          "values": [
            "67",
            "71",
            "1",
            "0"
          ]
        }
      ],
      "draggables": [
        {
          "id": "eligible",
          "label": "Eligible",
          "color": "green"
        },
        {
          "id": "not_eligible",
          "label": "Not Eligible",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "epd": "eligible"
    },
    "explanation": "Late 1.4% and attendance 94.4%, passes both checks.",
    "source_id": "elig_person_d"
  },
  {
    "id": 21,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "easy",
    "instruction": "Work out the correct penalty for Sarah.",
    "question": "Classify Sarah's penalty status.",
    "prompt_rules": [
      "Yellow: Return < 75%",
      "Red: Damage >= 5%"
    ],
    "widget_data": {
      "columns": [
        "Borrowed",
        "Returned",
        "Damaged",
        "Penalty"
      ],
      "rows": [
        {
          "id": "sarah",
          "label": "Sarah",
          "values": [
            "40",
            "35",
            "0"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "yellow",
          "label": "Yellow",
          "color": "amber"
        },
        {
          "id": "red",
          "label": "Red",
          "color": "red"
        },
        {
          "id": "both",
          "label": "Both",
          "color": "green"
        }
      ]
    },
    "correct_answer": {
      "sarah": "none"
    },
    "explanation": "Return 87.5%, damage 0%; no penalties.",
    "source_id": "lib_sarah"
  },
  {
    "id": 22,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Work out the correct penalty for David.",
    "question": "Classify David's penalty status.",
    "prompt_rules": [
      "Yellow: Return < 75%",
      "Red: Damage >= 5%"
    ],
    "widget_data": {
      "columns": [
        "Borrowed",
        "Returned",
        "Damaged",
        "Penalty"
      ],
      "rows": [
        {
          "id": "david",
          "label": "David",
          "values": [
            "50",
            "30",
            "4"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "yellow",
          "label": "Yellow",
          "color": "amber"
        },
        {
          "id": "red",
          "label": "Red",
          "color": "red"
        },
        {
          "id": "both",
          "label": "Both",
          "color": "green"
        }
      ]
    },
    "correct_answer": {
      "david": "both"
    },
    "explanation": "Return 60% and damage 8% => both penalties.",
    "source_id": "lib_david"
  },
  {
    "id": 23,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Work out the correct penalty for Jess.",
    "question": "Classify Jess's penalty status.",
    "prompt_rules": [
      "Yellow: Return < 75%",
      "Red: Damage >= 5%"
    ],
    "widget_data": {
      "columns": [
        "Borrowed",
        "Returned",
        "Damaged",
        "Penalty"
      ],
      "rows": [
        {
          "id": "jess",
          "label": "Jess",
          "values": [
            "200",
            "140",
            "15"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "yellow",
          "label": "Yellow",
          "color": "amber"
        },
        {
          "id": "red",
          "label": "Red",
          "color": "red"
        },
        {
          "id": "both",
          "label": "Both",
          "color": "green"
        }
      ]
    },
    "correct_answer": {
      "jess": "both"
    },
    "explanation": "Return 70% and damage 7.5% => both penalties.",
    "source_id": "lib_jess"
  },
  {
    "id": 24,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Determine funding status for Project Alpha.",
    "question": "Classify Project Alpha.",
    "prompt_rules": [
      "Funded: Rev >= 2 x Investment",
      "Deferred: Rev >= Investment",
      "Rejected: Rev < Investment"
    ],
    "widget_data": {
      "columns": [
        "Investment",
        "Rev Y1",
        "Rev Y2",
        "Rev Y3",
        "Status"
      ],
      "rows": [
        {
          "id": "proj_c",
          "label": "Project Alpha",
          "values": [
            "$12,000",
            "$4,000",
            "$8,000",
            "$15,000"
          ]
        }
      ],
      "draggables": [
        {
          "id": "funded",
          "label": "Funded",
          "color": "green"
        },
        {
          "id": "deferred",
          "label": "Deferred",
          "color": "amber"
        },
        {
          "id": "rejected",
          "label": "Rejected",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "proj_c": "funded"
    },
    "explanation": "27,000 >= 2 x 12,000.",
    "source_id": "fund_proj_c"
  },
  {
    "id": 25,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "easy",
    "instruction": "Determine funding status for Project Beta.",
    "question": "Classify Project Beta.",
    "prompt_rules": [
      "Funded: Rev >= 2 x Investment",
      "Deferred: Rev >= Investment",
      "Rejected: Rev < Investment"
    ],
    "widget_data": {
      "columns": [
        "Investment",
        "Rev Y1",
        "Rev Y2",
        "Rev Y3",
        "Status"
      ],
      "rows": [
        {
          "id": "proj_d",
          "label": "Project Beta",
          "values": [
            "$50,000",
            "$10,000",
            "$15,000",
            "$20,000"
          ]
        }
      ],
      "draggables": [
        {
          "id": "funded",
          "label": "Funded",
          "color": "green"
        },
        {
          "id": "deferred",
          "label": "Deferred",
          "color": "amber"
        },
        {
          "id": "rejected",
          "label": "Rejected",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "proj_d": "rejected"
    },
    "explanation": "45,000 < 50,000.",
    "source_id": "fund_proj_d"
  },
  {
    "id": 26,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Classify Store E.",
    "question": "Classify Store E volume band.",
    "prompt_rules": [
      "Revenue = (Price - Discount) x Units x (1 + Fee)",
      "High > 1500, Low < 350"
    ],
    "widget_data": {
      "columns": [
        "Price",
        "Units",
        "Discount",
        "Fee",
        "Volume"
      ],
      "rows": [
        {
          "id": "store_e",
          "label": "Store E",
          "values": [
            "?10.00",
            "40",
            "10% off",
            "5%"
          ]
        }
      ],
      "draggables": [
        {
          "id": "high",
          "label": "High",
          "color": "green"
        },
        {
          "id": "medium",
          "label": "Medium",
          "color": "amber"
        },
        {
          "id": "low",
          "label": "Low",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "store_e": "medium"
    },
    "explanation": "?10 x 0.9 x 40 x 1.05 = ?378 => Medium.",
    "source_id": "store_e"
  },
  {
    "id": 27,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "easy",
    "instruction": "Classify Store F.",
    "question": "Classify Store F volume band.",
    "prompt_rules": [
      "Revenue = (Price - Discount) x Units x (1 + Fee)",
      "High > 1500, Low < 350"
    ],
    "widget_data": {
      "columns": [
        "Price",
        "Units",
        "Discount",
        "Fee",
        "Volume"
      ],
      "rows": [
        {
          "id": "store_f",
          "label": "Store F",
          "values": [
            "?5.00",
            "60",
            "-",
            "10%"
          ]
        }
      ],
      "draggables": [
        {
          "id": "high",
          "label": "High",
          "color": "green"
        },
        {
          "id": "medium",
          "label": "Medium",
          "color": "amber"
        },
        {
          "id": "low",
          "label": "Low",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "store_f": "low"
    },
    "explanation": "?5 x 60 x 1.10 = ?330 => Low.",
    "source_id": "store_f"
  },
  {
    "id": 28,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "hard",
    "instruction": "Commission for Person E.",
    "question": "Determine Person E commission tier.",
    "prompt_rules": [
      "Net Sales = Sales - (Cancel x 5)",
      "Avg = Rev / Net Sales",
      "0-40: None, 41-100: 5%, 101+: 10%"
    ],
    "widget_data": {
      "columns": [
        "Rev",
        "Sales",
        "Cancel/Day",
        "Comm"
      ],
      "rows": [
        {
          "id": "pe",
          "label": "Person E",
          "values": [
            "?2,000",
            "40",
            "3"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "5%",
          "label": "5%"
        },
        {
          "id": "10%",
          "label": "10%"
        }
      ]
    },
    "correct_answer": {
      "pe": "5%"
    },
    "explanation": "Net=25; Avg=80 => 5%.",
    "source_id": "comm_person_e"
  },
  {
    "id": 29,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "hard",
    "instruction": "Commission for Person F.",
    "question": "Determine Person F commission tier.",
    "prompt_rules": [
      "Net Sales = Sales - (Cancel x 5)",
      "Avg = Rev / Net Sales",
      "0-40: None, 41-100: 5%, 101+: 10%"
    ],
    "widget_data": {
      "columns": [
        "Rev",
        "Sales",
        "Cancel/Day",
        "Comm"
      ],
      "rows": [
        {
          "id": "pf",
          "label": "Person F",
          "values": [
            "?5,000",
            "55",
            "1"
          ]
        }
      ],
      "draggables": [
        {
          "id": "none",
          "label": "None"
        },
        {
          "id": "5%",
          "label": "5%"
        },
        {
          "id": "10%",
          "label": "10%"
        }
      ]
    },
    "correct_answer": {
      "pf": "5%"
    },
    "explanation": "Net=50; Avg=100 => 5% (10% starts above 100).",
    "source_id": "comm_person_f"
  },
  {
    "id": 30,
    "subtype": "interactive_numerical",
    "type": "interactive_pie_chart",
    "difficulty": "medium",
    "instruction": "Adjust chart for Regional Logistics.",
    "question": "Set each region slice to satisfy the rules.",
    "prompt_rules": [
      "Total = 1000 units",
      "North = 3 x East",
      "East = 100 units",
      "West = 4 x East",
      "South = remainder"
    ],
    "widget_data": {
      "total_value": 1000,
      "segments": [
        {
          "id": "east",
          "label": "East",
          "color": "red",
          "initial_pct": 20
        },
        {
          "id": "north",
          "label": "North",
          "color": "blue",
          "initial_pct": 20
        },
        {
          "id": "west",
          "label": "West",
          "color": "orange",
          "initial_pct": 30
        },
        {
          "id": "south",
          "label": "South",
          "color": "green",
          "initial_pct": 30
        }
      ]
    },
    "correct_answer": {
      "east": 10,
      "north": 30,
      "west": 40,
      "south": 20
    },
    "tolerance": {
      "pct": 2
    },
    "explanation": "East 100, North 300, West 400, South 200.",
    "source_id": "pie_logistics"
  },
  {
    "id": 31,
    "subtype": "interactive_numerical",
    "type": "interactive_stacked_bar",
    "difficulty": "medium",
    "instruction": "Arrange sales for Q1 vs Q2.",
    "question": "Adjust Q2 bar to match growth rates.",
    "prompt_rules": [
      "Q1: 400 total (200 Online / 200 Store)",
      "Q2: Online +50%, Store +10%"
    ],
    "widget_data": {
      "axis_max": 600,
      "bar_1": {
        "id": "q1",
        "label": "Q1",
        "total": 400,
        "split_pct": 50
      },
      "bar_2_initial": {
        "id": "q2",
        "label": "Q2",
        "total": 400,
        "split_pct": 50
      },
      "segment_labels": {
        "primary": "Online",
        "secondary": "Store"
      }
    },
    "correct_answer": {
      "total": 520,
      "split_pct": 58
    },
    "tolerance": {
      "total": 5,
      "split_pct": 2
    },
    "explanation": "Online 300, Store 220, total 520 => Online share 57.7% (~58%).",
    "source_id": "bar_sales"
  },
  {
    "id": 32,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "hard",
    "instruction": "Verify the invoice amount.",
    "question": "Mark the invoice as Correct or Incorrect.",
    "prompt_rules": [
      "0-100 units: $10",
      "101-200 units: $8",
      "201+ units: $5"
    ],
    "widget_data": {
      "columns": [
        "Client",
        "Units Used",
        "Invoice Amt",
        "Status"
      ],
      "rows": [
        {
          "id": "cli_a",
          "label": "Client A",
          "values": [
            "Client A",
            "250",
            "$2,050"
          ]
        }
      ],
      "draggables": [
        {
          "id": "correct",
          "label": "Correct",
          "color": "green"
        },
        {
          "id": "incorrect",
          "label": "Incorrect",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "cli_a": "correct"
    },
    "explanation": "(100 x 10) + (100 x 8) + (50 x 5) = 2,050.",
    "source_id": "tier_tax_1"
  },
  {
    "id": 33,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Work out if Person B is eligible.",
    "question": "Determine if Person B is eligible.",
    "prompt_rules": [
      "Flag if Late > 1.5% OR Attendance < 93%",
      "Any flag => Not Eligible"
    ],
    "widget_data": {
      "columns": [
        "Attended",
        "Possible",
        "Late",
        "Holiday",
        "Status"
      ],
      "rows": [
        {
          "id": "epb2",
          "label": "Person B",
          "values": [
            "109",
            "125",
            "10",
            "15"
          ]
        }
      ],
      "draggables": [
        {
          "id": "eligible",
          "label": "Eligible",
          "color": "green"
        },
        {
          "id": "not_eligible",
          "label": "Not Eligible",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "epb2": "not_eligible"
    },
    "explanation": "Lateness 10/125 = 8.0% (>1.5%) so Person B is not eligible.",
    "source_id": "elig_person_b_v2"
  },
  {
    "id": 34,
    "subtype": "interactive_numerical",
    "type": "interactive_drag_table",
    "difficulty": "medium",
    "instruction": "Work out if Person D is eligible.",
    "question": "Determine if Person D is eligible.",
    "prompt_rules": [
      "Flag if Late > 1.5% OR Attendance < 93%",
      "Any flag => Not Eligible"
    ],
    "widget_data": {
      "columns": [
        "Attended",
        "Possible",
        "Late",
        "Holiday",
        "Status"
      ],
      "rows": [
        {
          "id": "epd2",
          "label": "Person D",
          "values": [
            "67",
            "71",
            "1",
            "0"
          ]
        }
      ],
      "draggables": [
        {
          "id": "eligible",
          "label": "Eligible",
          "color": "green"
        },
        {
          "id": "not_eligible",
          "label": "Not Eligible",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "epd2": "eligible"
    },
    "explanation": "Lateness 1/71 = 1.4% and attendance 67/71 = 94.3%; both pass.",
    "source_id": "elig_person_d_v2"
  },
  {
    "id": 35,
    "type": "interactive_drag_table",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Verify if each travel expense claim is correct.",
    "question": "Use the tiered mileage policy and classify each claim.",
    "prompt_rules": [
      "0-250 miles: $0.11/mile",
      "251-500 miles: $0.10/mile",
      "501+ miles: $0.05/mile"
    ],
    "widget_data": {
      "columns": [
        "Employee",
        "Total Miles",
        "Claimed Amount",
        "Status"
      ],
      "rows": [
        {
          "id": "q35_r1",
          "values": [
            "Alice",
            "433",
            "$32.55"
          ]
        },
        {
          "id": "q35_r2",
          "values": [
            "Binta",
            "473",
            "$49.80"
          ]
        },
        {
          "id": "q35_r3",
          "values": [
            "Chidi",
            "247",
            "$33.67"
          ]
        },
        {
          "id": "q35_r4",
          "values": [
            "Daniel",
            "170",
            "$14.45"
          ]
        }
      ],
      "draggables": [
        {
          "id": "correct",
          "label": "Correct",
          "color": "green"
        },
        {
          "id": "incorrect",
          "label": "Incorrect",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "q35_r1": "incorrect",
      "q35_r2": "correct",
      "q35_r3": "incorrect",
      "q35_r4": "incorrect"
    },
    "explanation": "Apply each mileage tier progressively before comparing to the claimed amount."
  },
  {
    "id": 36,
    "type": "interactive_pie_chart",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Approximate the pie slices that satisfy all equation constraints.",
    "question": "Resize each budget slice to satisfy the system of equations.",
    "prompt_rules": [
      "2 x Engineering + 2 x Finance + 2 x Product = 160%",
      "Product + 3 x Marketing = 90%",
      "2 x Marketing + 3 x Finance = 97%",
      "Engineering + Product + Finance + Marketing = 100%"
    ],
    "widget_data": {
      "total_value": 600,
      "segments": [
        {
          "id": "seg_36_eng",
          "label": "Engineering",
          "color": "blue",
          "initial_pct": 34
        },
        {
          "id": "seg_36_prd",
          "label": "Product",
          "color": "green",
          "initial_pct": 39
        },
        {
          "id": "seg_36_fin",
          "label": "Finance",
          "color": "orange",
          "initial_pct": 14
        },
        {
          "id": "seg_36_mkt",
          "label": "Marketing",
          "color": "purple",
          "initial_pct": 13
        }
      ]
    },
    "correct_answer": {
      "seg_36_eng": 31,
      "seg_36_prd": 30,
      "seg_36_fin": 19,
      "seg_36_mkt": 20
    },
    "tolerance": {
      "pct": 2
    },
    "explanation": "Treat each segment as a variable and solve the linear constraints simultaneously."
  },
  {
    "id": 37,
    "type": "interactive_stacked_bar",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Use Year 1 as the historical baseline, then build Year 2 and Year 3.",
    "question": "Adjust Year 2 and Year 3 bars to satisfy all historical rules.",
    "prompt_rules": [
      "Year 1 baseline: 240 total (96 smartphones / 144 non-smartphones)",
      "Year 2 smartphones = Year 1 smartphones + 50",
      "Year 2 non-smartphones = Year 1 non-smartphones - 10",
      "Year 3 non-smartphones dropped by 25% vs Year 1",
      "Year 3 smartphones increased by 30% vs Year 1"
    ],
    "widget_data": {
      "axis_max": 350,
      "segment_labels": {
        "primary": "Smartphones",
        "secondary": "Non-smartphones"
      },
      "reference_bar": {
        "id": "year1",
        "label": "Year 1",
        "total": 240,
        "split_pct": 40
      },
      "interactive_bars": [
        {
          "id": "year2",
          "label": "Year 2",
          "total": 290,
          "split_pct": 60
        },
        {
          "id": "year3",
          "label": "Year 3",
          "total": 251,
          "split_pct": 50
        }
      ]
    },
    "correct_answer": {
      "year2": {
        "total": 280,
        "split_pct": 52
      },
      "year3": {
        "total": 233,
        "split_pct": 54
      }
    },
    "tolerance": {
      "total": 5,
      "split_pct": 2,
      "bars": {
        "year2": {
          "total": 5,
          "split_pct": 2
        },
        "year3": {
          "total": 5,
          "split_pct": 2
        }
      }
    },
    "explanation": "Derive Year 2 and Year 3 counts from Year 1 first, then convert each year to total and smartphone percentage."
  },
  {
    "id": 38,
    "type": "interactive_drag_table",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Verify if each travel expense claim is correct.",
    "question": "Use the tiered mileage policy and classify each claim.",
    "prompt_rules": [
      "0-180 miles: $0.65/mile",
      "181-420 miles: $0.40/mile",
      "421+ miles: $0.20/mile"
    ],
    "widget_data": {
      "columns": [
        "Employee",
        "Total Miles",
        "Claimed Amount",
        "Status"
      ],
      "rows": [
        {
          "id": "q38_r1",
          "values": [
            "Alice",
            "546",
            "$244.70"
          ]
        },
        {
          "id": "q38_r2",
          "values": [
            "Binta",
            "709",
            "$279.55"
          ]
        },
        {
          "id": "q38_r3",
          "values": [
            "Chidi",
            "541",
            "$230.70"
          ]
        },
        {
          "id": "q38_r4",
          "values": [
            "Daniel",
            "211",
            "$129.40"
          ]
        }
      ],
      "draggables": [
        {
          "id": "correct",
          "label": "Correct",
          "color": "green"
        },
        {
          "id": "incorrect",
          "label": "Incorrect",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "q38_r1": "incorrect",
      "q38_r2": "incorrect",
      "q38_r3": "incorrect",
      "q38_r4": "correct"
    },
    "explanation": "Apply each mileage tier progressively before comparing to the claimed amount."
  },
  {
    "id": 39,
    "type": "interactive_pie_chart",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Approximate the pie slices that satisfy all equation constraints.",
    "question": "Resize each budget slice to satisfy the system of equations.",
    "prompt_rules": [
      "Finance + Product + Marketing + 2 x Engineering = 133%",
      "3 x Finance + Product + 2 x Marketing = 122%",
      "Finance + Engineering + Product + 2 x Marketing = 117%",
      "Engineering + Product + Finance + Marketing = 100%"
    ],
    "widget_data": {
      "total_value": 600,
      "segments": [
        {
          "id": "seg_39_eng",
          "label": "Engineering",
          "color": "blue",
          "initial_pct": 35
        },
        {
          "id": "seg_39_prd",
          "label": "Product",
          "color": "green",
          "initial_pct": 33
        },
        {
          "id": "seg_39_fin",
          "label": "Finance",
          "color": "orange",
          "initial_pct": 24
        },
        {
          "id": "seg_39_mkt",
          "label": "Marketing",
          "color": "purple",
          "initial_pct": 8
        }
      ]
    },
    "correct_answer": {
      "seg_39_eng": 33,
      "seg_39_prd": 31,
      "seg_39_fin": 19,
      "seg_39_mkt": 17
    },
    "tolerance": {
      "pct": 2
    },
    "explanation": "Treat each segment as a variable and solve the linear constraints simultaneously."
  },
  {
    "id": 40,
    "type": "interactive_stacked_bar",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Use Year 1 as the historical baseline, then build Year 2 and Year 3.",
    "question": "Adjust Year 2 and Year 3 bars to satisfy all historical rules.",
    "prompt_rules": [
      "Year 1 baseline: 200 total (60 smartphones / 140 non-smartphones)",
      "Year 2 smartphones = Year 1 smartphones + 50",
      "Year 2 non-smartphones = Year 1 non-smartphones - 20",
      "Year 3 non-smartphones dropped by 15% vs Year 1",
      "Year 3 smartphones increased by 30% vs Year 1"
    ],
    "widget_data": {
      "axis_max": 300,
      "segment_labels": {
        "primary": "Smartphones",
        "secondary": "Non-smartphones"
      },
      "reference_bar": {
        "id": "year1",
        "label": "Year 1",
        "total": 200,
        "split_pct": 30
      },
      "interactive_bars": [
        {
          "id": "year2",
          "label": "Year 2",
          "total": 212,
          "split_pct": 36
        },
        {
          "id": "year3",
          "label": "Year 3",
          "total": 179,
          "split_pct": 52
        }
      ]
    },
    "correct_answer": {
      "year2": {
        "total": 230,
        "split_pct": 48
      },
      "year3": {
        "total": 197,
        "split_pct": 40
      }
    },
    "tolerance": {
      "total": 5,
      "split_pct": 2,
      "bars": {
        "year2": {
          "total": 5,
          "split_pct": 2
        },
        "year3": {
          "total": 5,
          "split_pct": 2
        }
      }
    },
    "explanation": "Derive Year 2 and Year 3 counts from Year 1 first, then convert each year to total and smartphone percentage."
  },
  {
    "id": 41,
    "type": "interactive_drag_table",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Verify if each travel expense claim is correct.",
    "question": "Use the tiered mileage policy and classify each claim.",
    "prompt_rules": [
      "0-250 miles: $0.11/mile",
      "251-500 miles: $0.10/mile",
      "501+ miles: $0.05/mile"
    ],
    "widget_data": {
      "columns": [
        "Employee",
        "Total Miles",
        "Claimed Amount",
        "Status"
      ],
      "rows": [
        {
          "id": "q41_r1",
          "values": [
            "Alice",
            "612",
            "$51.60"
          ]
        },
        {
          "id": "q41_r2",
          "values": [
            "Binta",
            "160",
            "$17.60"
          ]
        },
        {
          "id": "q41_r3",
          "values": [
            "Chidi",
            "426",
            "$45.10"
          ]
        },
        {
          "id": "q41_r4",
          "values": [
            "Daniel",
            "177",
            "$19.47"
          ]
        }
      ],
      "draggables": [
        {
          "id": "correct",
          "label": "Correct",
          "color": "green"
        },
        {
          "id": "incorrect",
          "label": "Incorrect",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "q41_r1": "incorrect",
      "q41_r2": "correct",
      "q41_r3": "correct",
      "q41_r4": "correct"
    },
    "explanation": "Apply each mileage tier progressively before comparing to the claimed amount."
  },
  {
    "id": 42,
    "type": "interactive_pie_chart",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Approximate the pie slices that satisfy all equation constraints.",
    "question": "Resize each budget slice to satisfy the system of equations.",
    "prompt_rules": [
      "2 x Product + 2 x Finance + Engineering + 3 x Marketing = 199%",
      "2 x Finance + Marketing + 2 x Engineering = 125%",
      "Finance + 3 x Engineering + Product = 131%",
      "Engineering + Product + Finance + Marketing = 100%"
    ],
    "widget_data": {
      "total_value": 420,
      "segments": [
        {
          "id": "seg_42_eng",
          "label": "Engineering",
          "color": "blue",
          "initial_pct": 38
        },
        {
          "id": "seg_42_prd",
          "label": "Product",
          "color": "green",
          "initial_pct": 18
        },
        {
          "id": "seg_42_fin",
          "label": "Finance",
          "color": "orange",
          "initial_pct": 11
        },
        {
          "id": "seg_42_mkt",
          "label": "Marketing",
          "color": "purple",
          "initial_pct": 33
        }
      ]
    },
    "correct_answer": {
      "seg_42_eng": 30,
      "seg_42_prd": 23,
      "seg_42_fin": 18,
      "seg_42_mkt": 29
    },
    "tolerance": {
      "pct": 2
    },
    "explanation": "Treat each segment as a variable and solve the linear constraints simultaneously."
  },
  {
    "id": 43,
    "type": "interactive_stacked_bar",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Use Year 1 as the historical baseline, then build Year 2 and Year 3.",
    "question": "Adjust Year 2 and Year 3 bars to satisfy all historical rules.",
    "prompt_rules": [
      "Year 1 baseline: 240 total (72 smartphones / 168 non-smartphones)",
      "Year 2 smartphones = Year 1 smartphones + 40",
      "Year 2 non-smartphones = Year 1 non-smartphones + 0",
      "Year 3 non-smartphones dropped by 20% vs Year 1",
      "Year 3 smartphones increased by 30% vs Year 1"
    ],
    "widget_data": {
      "axis_max": 350,
      "segment_labels": {
        "primary": "Smartphones",
        "secondary": "Non-smartphones"
      },
      "reference_bar": {
        "id": "year1",
        "label": "Year 1",
        "total": 240,
        "split_pct": 30
      },
      "interactive_bars": [
        {
          "id": "year2",
          "label": "Year 2",
          "total": 298,
          "split_pct": 32
        },
        {
          "id": "year3",
          "label": "Year 3",
          "total": 210,
          "split_pct": 29
        }
      ]
    },
    "correct_answer": {
      "year2": {
        "total": 280,
        "split_pct": 40
      },
      "year3": {
        "total": 228,
        "split_pct": 41
      }
    },
    "tolerance": {
      "total": 5,
      "split_pct": 2,
      "bars": {
        "year2": {
          "total": 5,
          "split_pct": 2
        },
        "year3": {
          "total": 5,
          "split_pct": 2
        }
      }
    },
    "explanation": "Derive Year 2 and Year 3 counts from Year 1 first, then convert each year to total and smartphone percentage."
  },
  {
    "id": 44,
    "type": "interactive_drag_table",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Verify if each travel expense claim is correct.",
    "question": "Use the tiered mileage policy and classify each claim.",
    "prompt_rules": [
      "0-200 miles: $0.50/mile",
      "201+ miles: $0.25/mile"
    ],
    "widget_data": {
      "columns": [
        "Employee",
        "Total Miles",
        "Claimed Amount",
        "Status"
      ],
      "rows": [
        {
          "id": "q44_r1",
          "values": [
            "Alice",
            "141",
            "$79.25"
          ]
        },
        {
          "id": "q44_r2",
          "values": [
            "Binta",
            "307",
            "$113.50"
          ]
        },
        {
          "id": "q44_r3",
          "values": [
            "Chidi",
            "671",
            "$211.25"
          ]
        },
        {
          "id": "q44_r4",
          "values": [
            "Daniel",
            "299",
            "$138.00"
          ]
        }
      ],
      "draggables": [
        {
          "id": "correct",
          "label": "Correct",
          "color": "green"
        },
        {
          "id": "incorrect",
          "label": "Incorrect",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "q44_r1": "incorrect",
      "q44_r2": "incorrect",
      "q44_r3": "incorrect",
      "q44_r4": "incorrect"
    },
    "explanation": "Apply each mileage tier progressively before comparing to the claimed amount."
  },
  {
    "id": 45,
    "type": "interactive_pie_chart",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Approximate the pie slices that satisfy all equation constraints.",
    "question": "Resize each budget slice to satisfy the system of equations.",
    "prompt_rules": [
      "Marketing + 2 x Finance + 3 x Product + Engineering = 183%",
      "3 x Marketing + Finance + 2 x Engineering = 145%",
      "2 x Finance + Product + Marketing = 101%",
      "Engineering + Product + Finance + Marketing = 100%"
    ],
    "widget_data": {
      "total_value": 540,
      "segments": [
        {
          "id": "seg_45_eng",
          "label": "Engineering",
          "color": "blue",
          "initial_pct": 25
        },
        {
          "id": "seg_45_prd",
          "label": "Product",
          "color": "green",
          "initial_pct": 28
        },
        {
          "id": "seg_45_fin",
          "label": "Finance",
          "color": "orange",
          "initial_pct": 17
        },
        {
          "id": "seg_45_mkt",
          "label": "Marketing",
          "color": "purple",
          "initial_pct": 30
        }
      ]
    },
    "correct_answer": {
      "seg_45_eng": 20,
      "seg_45_prd": 31,
      "seg_45_fin": 21,
      "seg_45_mkt": 28
    },
    "tolerance": {
      "pct": 2
    },
    "explanation": "Treat each segment as a variable and solve the linear constraints simultaneously."
  },
  {
    "id": 46,
    "type": "interactive_stacked_bar",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Use Year 1 as the historical baseline, then build Year 2 and Year 3.",
    "question": "Adjust Year 2 and Year 3 bars to satisfy all historical rules.",
    "prompt_rules": [
      "Year 1 baseline: 220 total (88 smartphones / 132 non-smartphones)",
      "Year 2 smartphones = Year 1 smartphones + 50",
      "Year 2 non-smartphones = Year 1 non-smartphones + 0",
      "Year 3 non-smartphones dropped by 15% vs Year 1",
      "Year 3 smartphones increased by 20% vs Year 1"
    ],
    "widget_data": {
      "axis_max": 350,
      "segment_labels": {
        "primary": "Smartphones",
        "secondary": "Non-smartphones"
      },
      "reference_bar": {
        "id": "year1",
        "label": "Year 1",
        "total": 220,
        "split_pct": 40
      },
      "interactive_bars": [
        {
          "id": "year2",
          "label": "Year 2",
          "total": 260,
          "split_pct": 39
        },
        {
          "id": "year3",
          "label": "Year 3",
          "total": 236,
          "split_pct": 57
        }
      ]
    },
    "correct_answer": {
      "year2": {
        "total": 270,
        "split_pct": 51
      },
      "year3": {
        "total": 218,
        "split_pct": 49
      }
    },
    "tolerance": {
      "total": 5,
      "split_pct": 2,
      "bars": {
        "year2": {
          "total": 5,
          "split_pct": 2
        },
        "year3": {
          "total": 5,
          "split_pct": 2
        }
      }
    },
    "explanation": "Derive Year 2 and Year 3 counts from Year 1 first, then convert each year to total and smartphone percentage."
  },
  {
    "id": 47,
    "type": "interactive_drag_table",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Verify if each travel expense claim is correct.",
    "question": "Use the tiered mileage policy and classify each claim.",
    "prompt_rules": [
      "0-250 miles: $0.11/mile",
      "251-500 miles: $0.10/mile",
      "501+ miles: $0.05/mile"
    ],
    "widget_data": {
      "columns": [
        "Employee",
        "Total Miles",
        "Claimed Amount",
        "Status"
      ],
      "rows": [
        {
          "id": "q47_r1",
          "values": [
            "Alice",
            "162",
            "$6.82"
          ]
        },
        {
          "id": "q47_r2",
          "values": [
            "Binta",
            "153",
            "$12.58"
          ]
        },
        {
          "id": "q47_r3",
          "values": [
            "Chidi",
            "244",
            "$26.84"
          ]
        },
        {
          "id": "q47_r4",
          "values": [
            "Daniel",
            "549",
            "$65.95"
          ]
        }
      ],
      "draggables": [
        {
          "id": "correct",
          "label": "Correct",
          "color": "green"
        },
        {
          "id": "incorrect",
          "label": "Incorrect",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "q47_r1": "incorrect",
      "q47_r2": "incorrect",
      "q47_r3": "correct",
      "q47_r4": "incorrect"
    },
    "explanation": "Apply each mileage tier progressively before comparing to the claimed amount."
  },
  {
    "id": 48,
    "type": "interactive_pie_chart",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Approximate the pie slices that satisfy all equation constraints.",
    "question": "Resize each budget slice to satisfy the system of equations.",
    "prompt_rules": [
      "2 x Product + 2 x Finance = 116%",
      "3 x Finance + Product = 120%",
      "2 x Finance + Product + Marketing + 3 x Engineering = 175%",
      "Engineering + Product + Finance + Marketing = 100%"
    ],
    "widget_data": {
      "total_value": 540,
      "segments": [
        {
          "id": "seg_48_eng",
          "label": "Engineering",
          "color": "blue",
          "initial_pct": 20
        },
        {
          "id": "seg_48_prd",
          "label": "Product",
          "color": "green",
          "initial_pct": 26
        },
        {
          "id": "seg_48_fin",
          "label": "Finance",
          "color": "orange",
          "initial_pct": 40
        },
        {
          "id": "seg_48_mkt",
          "label": "Marketing",
          "color": "purple",
          "initial_pct": 14
        }
      ]
    },
    "correct_answer": {
      "seg_48_eng": 22,
      "seg_48_prd": 27,
      "seg_48_fin": 31,
      "seg_48_mkt": 20
    },
    "tolerance": {
      "pct": 2
    },
    "explanation": "Treat each segment as a variable and solve the linear constraints simultaneously."
  },
  {
    "id": 49,
    "type": "interactive_stacked_bar",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Use Year 1 as the historical baseline, then build Year 2 and Year 3.",
    "question": "Adjust Year 2 and Year 3 bars to satisfy all historical rules.",
    "prompt_rules": [
      "Year 1 baseline: 240 total (84 smartphones / 156 non-smartphones)",
      "Year 2 smartphones = Year 1 smartphones + 60",
      "Year 2 non-smartphones = Year 1 non-smartphones - 10",
      "Year 3 non-smartphones dropped by 15% vs Year 1",
      "Year 3 smartphones increased by 20% vs Year 1"
    ],
    "widget_data": {
      "axis_max": 350,
      "segment_labels": {
        "primary": "Smartphones",
        "secondary": "Non-smartphones"
      },
      "reference_bar": {
        "id": "year1",
        "label": "Year 1",
        "total": 240,
        "split_pct": 35
      },
      "interactive_bars": [
        {
          "id": "year2",
          "label": "Year 2",
          "total": 272,
          "split_pct": 46
        },
        {
          "id": "year3",
          "label": "Year 3",
          "total": 216,
          "split_pct": 31
        }
      ]
    },
    "correct_answer": {
      "year2": {
        "total": 290,
        "split_pct": 50
      },
      "year3": {
        "total": 234,
        "split_pct": 43
      }
    },
    "tolerance": {
      "total": 5,
      "split_pct": 2,
      "bars": {
        "year2": {
          "total": 5,
          "split_pct": 2
        },
        "year3": {
          "total": 5,
          "split_pct": 2
        }
      }
    },
    "explanation": "Derive Year 2 and Year 3 counts from Year 1 first, then convert each year to total and smartphone percentage."
  },
  {
    "id": 50,
    "type": "interactive_drag_table",
    "subtype": "interactive_numerical_hard",
    "difficulty": "hard",
    "instruction": "Verify if each travel expense claim is correct.",
    "question": "Use the tiered mileage policy and classify each claim.",
    "prompt_rules": [
      "0-200 miles: $0.50/mile",
      "201+ miles: $0.25/mile"
    ],
    "widget_data": {
      "columns": [
        "Employee",
        "Total Miles",
        "Claimed Amount",
        "Status"
      ],
      "rows": [
        {
          "id": "q50_r1",
          "values": [
            "Alice",
            "525",
            "$181.25"
          ]
        },
        {
          "id": "q50_r2",
          "values": [
            "Binta",
            "409",
            "$152.25"
          ]
        },
        {
          "id": "q50_r3",
          "values": [
            "Chidi",
            "249",
            "$112.25"
          ]
        },
        {
          "id": "q50_r4",
          "values": [
            "Daniel",
            "212",
            "$94.25"
          ]
        }
      ],
      "draggables": [
        {
          "id": "correct",
          "label": "Correct",
          "color": "green"
        },
        {
          "id": "incorrect",
          "label": "Incorrect",
          "color": "red"
        }
      ]
    },
    "correct_answer": {
      "q50_r1": "correct",
      "q50_r2": "correct",
      "q50_r3": "correct",
      "q50_r4": "incorrect"
    },
    "explanation": "Apply each mileage tier progressively before comparing to the claimed amount."
  }
]
